# Установка GitLab CE

## Установка через официальный репозиторий

### 1. Добавление репозитория GitLab

```bash
curl "https://packages.gitlab.com/install/repositories/gitlab/gitlab-ce/script.deb.sh" | sudo bash
```

### 2. Базовая установка GitLab CE

```bash
sudo apt update
sudo apt install gitlab-ce
```

После установки учетные данные по умолчанию:
- **Username**: `root`
- **Password**: Смотрите в файле `/etc/gitlab/initial_root_password`

### 3. Установка с предварительной настройкой (рекомендуется)

```bash
sudo GITLAB_ROOT_EMAIL="admin@example.com" \
GITLAB_ROOT_PASSWORD="strongpassword" \
EXTERNAL_URL="https://gitlab.example.com" \
apt install gitlab-ce
```

**Параметры:**
- `GITLAB_ROOT_EMAIL` - email администратора
- `GITLAB_ROOT_PASSWORD` - пароль root пользователя
- `EXTERNAL_URL` - внешний URL вашего GitLab сервера

## Настройка после установки

### Настройка конфигурации GitLab

```bash
sudo gitlab-ctl reconfigure
```

### Проверка статуса служб

```bash
sudo gitlab-ctl status
```

### Остановка/запуск GitLab

```bash
# Остановка всех служб
sudo gitlab-ctl stop

# Запуск всех служб
sudo gitlab-ctl start

# Перезапуск всех служб
sudo gitlab-ctl restart
```

## Важные файлы и директории

- **Конфигурация**: `/etc/gitlab/gitlab.rb`
- **Данные приложения**: `/var/opt/gitlab/`
- **Логи**: `/var/log/gitlab/`
- **Исходный код**: `/opt/gitlab/`

## Первоначальная настройка

После установки откройте в браузере указанный в `EXTERNAL_URL` адрес и выполните:

1. Войдите с учетными данными root
2. Смените пароль администратора
3. Настройте параметры безопасности
4. Создайте пользователей и проекты
